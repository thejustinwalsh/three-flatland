---
title: Sprites
description: Learn how to create and customize 2D sprites.
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

The `Sprite2D` class is the foundation for 2D rendering in three-flatland.

<Tabs syncKey="framework">
  <TabItem label="Three.js" icon="seti:javascript">
    ```typescript
    import { Sprite2D, Renderer2D } from '@three-flatland/core';

    const sprite = new Sprite2D({
      texture: myTexture,
      anchor: [0.5, 0.5],  // Center anchor
    });

    renderer2D.add(sprite);
    ```
  </TabItem>
  <TabItem label="React" icon="seti:react">
    ```tsx
    import { extend } from '@react-three/fiber/webgpu';
    import { Sprite2D, Renderer2D } from '@three-flatland/react';

    // Register with R3F (required once)
    extend({ Sprite2D, Renderer2D });

    function Scene() {
      return (
        <renderer2D>
          <sprite2D texture={myTexture} anchor={[0.5, 0.5]} />
        </renderer2D>
      );
    }
    ```
  </TabItem>
</Tabs>

:::tip[Loading Textures]
Use `TextureLoader` from `@three-flatland/core` (or `@three-flatland/react`) to load textures with automatic preset configuration. For spritesheets, use `SpriteSheetLoader`. See the [Loaders guide](../guides/loaders) for details.
:::

## Properties

### Position

Sprites inherit from Three.js `Mesh` and support standard transform properties:

```typescript
sprite.position.set(100, 200, 0);
sprite.rotation.z = Math.PI / 4;  // 45 degree rotation
sprite.scale.set(2, 2, 1);  // 2x scale
```

### Anchor

The anchor point determines the sprite's origin for positioning and rotation. Values range from 0 to 1.

| Anchor | Description |
|--------|-------------|
| `[0, 0]` | Bottom-left corner |
| `[0.5, 0.5]` | Center (default) |
| `[0.5, 0]` | Bottom-center |
| `[1, 1]` | Top-right corner |

### Size

Sprite size is automatically determined from the texture dimensions but can be overridden:

```typescript
const sprite = new Sprite2D({
  texture: myTexture,
  width: 64,
  height: 64,
});
```

## Renderer2D

For batched rendering with many sprites, use `Renderer2D`:

<Tabs syncKey="framework">
  <TabItem label="Three.js" icon="seti:javascript">
    ```typescript
    import { Renderer2D } from '@three-flatland/core';

    const renderer2D = new Renderer2D();
    scene.add(renderer2D);

    renderer2D.add(sprite1);
    renderer2D.add(sprite2);

    // In animation loop â€” no update() call needed
    renderer.render(scene, camera);
    ```
  </TabItem>
  <TabItem label="React" icon="seti:react">
    ```tsx
    import { extend } from '@react-three/fiber/webgpu';
    import { Sprite2D, Renderer2D } from '@three-flatland/react';

    extend({ Sprite2D, Renderer2D });

    function Scene() {
      return (
        <renderer2D>
          <sprite2D texture={texture1} />
          <sprite2D texture={texture2} />
        </renderer2D>
      );
    }
    ```
  </TabItem>
</Tabs>

For simple cases with few sprites, you can add them directly to the scene without `Renderer2D`.

## Layers

Use the `Layers` enum to control render order:

```typescript
import { Layers } from '@three-flatland/core';

sprite.layer = Layers.BACKGROUND;  // Renders behind other sprites
sprite.layer = Layers.ENTITIES;    // Normal render order for game entities
sprite.layer = Layers.FOREGROUND;  // Renders in front
sprite.layer = Layers.UI;          // UI layer (renders last)
```

Available layers (in render order):
- `Layers.BACKGROUND` - Background elements
- `Layers.GROUND` - Ground/terrain
- `Layers.SHADOWS` - Shadow sprites
- `Layers.ENTITIES` - Game entities (default)
- `Layers.FOREGROUND` - Foreground elements
- `Layers.UI` - User interface
